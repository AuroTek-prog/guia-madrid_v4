<!DOCTYPE html>
<html class="light" lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contacto y Emergencias</title>
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1152d4",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101622",
                        "card-light": "#ffffff",
                        "card-dark": "#1c2433",
                        "text-main-light": "#0d121b",
                        "text-main-dark": "#e2e8f0",
                        "text-muted-light": "#4b5563",
                        "text-muted-dark": "#94a3b8",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "2xl": "1rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .material-symbols-fill {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark font-display antialiased text-text-main-light dark:text-text-main-dark transition-colors duration-200">

    <div class="relative flex flex-col min-h-screen max-w-md mx-auto">

        <!-- Top Bar -->
        <header
            class="sticky top-0 z-50 flex items-center justify-between bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md p-4 border-b border-gray-200 dark:border-gray-800">
            <button onclick="goBack()"
                class="flex items-center justify-center size-10 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800">
                <span class="material-symbols-outlined">arrow_back</span>
            </button>
            <h1 id="page-title" class="text-base font-bold text-center flex-1">Cargando...</h1>
            <!-- Botón de cambio de idioma -->
            <button onclick="changeLanguage()" class="flex items-center justify-center size-10 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800">
                <span class="material-symbols-outlined">language</span>
            </button>
        </header>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto p-4 pb-28">
            <!-- Immediate Emergency Section -->
            <section class="mb-6">
                <h2 class="text-primary dark:text-blue-400 text-sm font-bold uppercase tracking-wider mb-3 px-1">
                    Asistencia Inmediata</h2>
                <!-- 112 Card -->
                <div
                    class="flex items-stretch justify-between gap-4 rounded-xl bg-card-light dark:bg-card-dark p-5 shadow-sm border border-gray-100 dark:border-gray-800">
                    <div class="flex flex-col gap-3 justify-between flex-1">
                        <div>
                            <div class="flex items-center gap-2 mb-1">
                                <span class="material-symbols-fill text-red-500 text-xl">e911_emergency</span>
                                <p
                                    class="text-text-main-light dark:text-text-main-dark text-lg font-bold leading-tight">
                                    Emergencia (112)</p>
                            </div>
                            <p
                                class="text-text-muted-light dark:text-text-muted-dark text-sm font-medium leading-normal">
                                Emergencia General UE</p>
                            <p class="text-gray-400 dark:text-gray-500 text-xs leading-normal mt-1">Policía, Ambulancia,
                                Bomberos</p>
                        </div>
                        <a id="btn-emergency-112"
                            class="flex items-center justify-center rounded-lg h-10 px-4 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 gap-2 text-sm font-bold leading-normal w-full active:scale-[0.98] transition-transform"
                            href="tel:112">
                            <span class="material-symbols-outlined text-[20px]">call</span>
                            Llamar 112
                        </a>
                    </div>
                    <!-- Decorative Image for Context -->
                    <div class="w-24 bg-center bg-no-repeat bg-cover rounded-lg hidden sm:block"
                        data-alt="Abstract red emergency gradient pattern"
                        style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBzjDyb-_O2tim95JfNFuaLSvdjCceJZ2QqdL9mTz_CNVqTsOkL93IpcaD6cQ5aOI36amUqPzKmHPHMrQXeSHgYvvv7TfBdkWKDvMqH7yrWgZQLa5cidc7f92vFDDJWkApCL5KDhl4Fxovq1ayH6ieY_zrfNoj7FUme9CMTAml001oHoUBYN2eT3bJUgwrjmCDKEAGBZK1j_g59qVZlZarkVCM_PpVeWcuLqFDmx6IFp51tetVZFXYk9rF3FQONWRFXExYJSSq_BA");'>
                    </div>
                </div>
            </section>

            <!-- Location Context -->
            <section class="mb-6">
                <div class="flex items-center justify-between mb-3 px-1">
                    <h2 class="text-text-main-light dark:text-text-main-dark text-lg font-bold">Tu Ubicación</h2>
                    <span id="apartment-id"
                        class="text-xs font-medium text-primary dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded-full">Cargando...</span>
                </div>
                <div
                    class="bg-card-light dark:bg-card-dark rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-800">
                    <div class="relative h-32 w-full">
                        <!-- Map Placeholder -->
                        <div id="map-container" class="w-full h-full bg-center bg-no-repeat bg-cover"
                            data-alt="Map view of Madrid city center" data-location="Madrid, Spain"
                            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDugUw8RZ7GvIZxCgQpKe2UM8RQnMbe9Uqcxg7hsUhkJi7Em8lCXc2soW7n1ipQe2BpvfDW4dU73FuDj8-h2YsBrDqw7stFfkPXuZAZKcyd8DkMRRKWt-MPZ8eIlhtTTdjiATC9Praft8M9ivDNT0Fu1dW-QNxu1z1pS0oeTC70E_fYF54gc9LQBaOk-_nZ7_8XASU0kMhU3JW9dAbtqTwjAjStz5BPVwdjWRSzt3GCxAJw41jiEjvECJFQMwpauxiPfHybhmS_xg");'>
                        </div>
                        <div class="absolute inset-0 bg-black/10"></div>
                        <div class="absolute bottom-3 right-3">
                            <button id="btn-copy-address"
                                class="bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 p-2 rounded-lg shadow-md text-xs font-bold flex items-center gap-1">
                                <span class="material-symbols-outlined text-sm">content_copy</span> Copiar
                            </button>
                        </div>
                    </div>
                    <div class="p-4 flex items-start gap-3">
                        <span
                            class="material-symbols-outlined text-primary dark:text-blue-400 mt-0.5">location_on</span>
                        <div>
                            <p id="address-line1"
                                class="text-text-main-light dark:text-text-main-dark font-bold text-base">Cargando...
                            </p>
                            <p id="address-line2" class="text-text-muted-light dark:text-text-muted-dark text-sm">
                                Cargando...</p>
                            <p class="text-xs text-gray-400 dark:text-gray-500 mt-2 italic">Por favor, muestra esta
                                información a los servicios de emergencia si es necesario.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Host Support Section -->
            <section class="mb-6">
                <div class="flex items-center justify-between mb-3 px-1">
                    <h2 class="text-text-main-light dark:text-text-main-dark text-lg font-bold">Soporte del Anfitrión
                    </h2>
                    <div id="host-status"
                        class="flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800">
                        <div class="size-2 rounded-full bg-green-500 animate-pulse"></div>
                        <span class="text-xs font-bold text-green-700 dark:text-green-400">En línea</span>
                    </div>
                </div>
                <div
                    class="bg-card-light dark:bg-card-dark rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-800 space-y-4">
                    <div class="flex items-center gap-4">
                        <div id="host-photo" class="size-12 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden"
                            style='background-size: cover;'></div>
                        <div class="flex-1">
                            <p id="host-name" class="text-text-main-light dark:text-text-main-dark font-bold text-lg">
                                Cargando...</p>
                            <p id="host-role" class="text-text-muted-light dark:text-text-muted-dark text-sm">
                                Cargando...</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <a id="btn-call-host"
                            class="flex flex-col items-center justify-center p-3 rounded-lg bg-primary/5 hover:bg-primary/10 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 border border-primary/10 dark:border-blue-800 transition-colors group"
                            href="#">
                            <span
                                class="material-symbols-fill text-primary dark:text-blue-400 mb-1 group-active:scale-110 transition-transform">call</span>
                            <span class="text-primary dark:text-blue-400 font-bold text-sm">Llamar Anfitrión</span>
                        </a>
                        <a id="btn-whatsapp-host"
                            class="flex flex-col items-center justify-center p-3 rounded-lg bg-green-50 hover:bg-green-100 dark:bg-green-900/10 dark:hover:bg-green-900/20 border border-green-200/50 dark:border-green-800 transition-colors group"
                            href="#">
                            <span
                                class="material-symbols-outlined text-green-600 dark:text-green-400 mb-1 group-active:scale-110 transition-transform">chat</span>
                            <span class="text-green-700 dark:text-green-400 font-bold text-sm">WhatsApp</span>
                        </a>
                    </div>
                    <div class="pt-2 border-t border-gray-100 dark:border-gray-700">
                        <p id="host-availability-general" class="text-xs text-center text-gray-400 dark:text-gray-500">
                            Disponible de 09:00 - 22:00 para consultas generales.</p>
                        <p class="text-xs text-center text-primary dark:text-blue-400 font-medium mt-0.5">24/7 para
                            emergencias.</p>
                    </div>
                </div>
            </section>

            <!-- Specific Services List -->
            <section>
                <h2 class="text-gray-500 dark:text-gray-400 text-sm font-bold uppercase tracking-wider mb-3 px-1 mt-6">
                    Servicios Locales</h2>
                <div id="services-container" class="flex flex-col gap-3">
                    <!-- Services will be populated by JavaScript -->
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav
            class="fixed bottom-0 left-0 right-0 z-50 bg-white/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-gray-800">
            <div class="flex justify-around items-center h-16 max-w-md mx-auto">
                <a id="nav-home" href="#"
                    class="flex flex-col items-center gap-1 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">home</span>
                    <span class="text-[10px]">Cargando...</span>
                </a>
                <a id="nav-devices" href="#"
                    class="flex flex-col items-center gap-1 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">power</span>
                    <span class="text-[10px]">Cargando...</span>
                </a>
                <a id="nav-recommendations" href="#"
                    class="flex flex-col items-center gap-1 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">explore</span>
                    <span class="text-[10px]">Cargando...</span>
                </a>
                <a id="nav-tourism" href="#"
                    class="flex flex-col items-center gap-1 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">map</span>
                    <span class="text-[10px]">Cargando...</span>
                </a>
                <!-- Nuevo elemento de navegación para contacto -->
                <a id="nav-contact" href="#"
                    class="flex flex-col items-center gap-1 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">contact_phone</span>
                    <span class="text-[10px]">Cargando...</span>
                </a>
            </div>
        </nav>

    </div>

    <script>
        window.ROOT_PATH = '../';
    </script>
    <script src="../js/main.js"></script>
    <script src="../js/contact.js"></script>
</body>

</html>